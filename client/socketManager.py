#TODO: refactor main.py to call this to manage all socket connections here instead of in main.py